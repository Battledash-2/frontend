import{S as oe,i as se,s as ae,Z as R,e as G,a as S,k as E,W as ne,h as f,c as L,l as P,m as y,n as _,G as j,b as w,_ as ie,d as J,f as le,g as q,L as z,v as re,C as b,q as D,r as I,O as H,u as O,$ as ce,y as fe,z as ue,A as pe,B as me}from"../chunks/index.160dc208.js";import{p as _e}from"../chunks/stores.80ebe8f0.js";import{P as de}from"../chunks/ProjectComponent.ff40b48a.js";import{a as he,u as be}from"../chunks/globals.9e2f5059.js";function T(o,e,s){const l=o.slice();return l[5]=e[s],l}function ke(o){return{c:b,l:b,m:b,d:b}}function ge(o){var e;return document.title=((e=o[0].profile)==null?void 0:e.username)+" | Datapack Hub",{c:b,l:b,m:b,d:b}}function ve(o){return{c:b,l:b,m:b,d:b}}function we(o){return{c:b,l:b,m:b,p:b,d:b}}function xe(o){var $,M,V,U;let e,s,l,t,c,a,i=(($=o[0].profile)==null?void 0:$.username)+"",r,p,g,v,k,A=((M=o[0].profile)==null?void 0:M.bio.replaceAll("\\n",`
`))+"",x,N,h,u=((V=o[0].profile)==null?void 0:V.role)!="default"&&X(o),m=o[1]&&o[2].id===((U=o[0].profile)==null?void 0:U.id)&&Y();return{c(){e=E("img"),c=S(),a=E("p"),r=D(i),p=S(),g=E("p"),u&&u.c(),v=S(),k=E("p"),x=D(A),N=S(),m&&m.c(),h=G(),this.h()},l(n){e=P(n,"IMG",{src:!0,alt:!0,height:!0,width:!0,class:!0}),c=L(n),a=P(n,"P",{class:!0});var d=y(a);r=I(d,i),d.forEach(f),p=L(n),g=P(n,"P",{class:!0});var C=y(g);u&&u.l(C),C.forEach(f),v=L(n),k=P(n,"P",{class:!0});var B=y(k);x=I(B,A),B.forEach(f),N=L(n),m&&m.l(n),h=G(),this.h()},h(){var n,d,C;H(e.src,s=(n=o[0].profile)==null?void 0:n.profile_icon)||_(e,"src",s),_(e,"alt",l=((d=o[0].profile)==null?void 0:d.username)+"'s profile picture"),_(e,"height","128"),_(e,"width","128"),_(e,"class",t="md:h-24 md:w-24 lg:h-32 lg:w-32 rounded-full outline outline-2 "+((C=o[0].profile)==null?void 0:C.role)+"-outline outline-offset-4 mr-6 svelte-1ie1bbt"),_(a,"class","dark:text-white text-5xl text-center md:text-start md:text-4xl lg:text-5xl font-brand font-bold mt-8"),_(g,"class","dark:text-white sm:text-base md:text-lg font-brand font-bold"),_(k,"class","whitespace-pre-line dark:bg-stone-700 dark:bg-opacity-40 bg-opacity-40 bg-white mb-2 rounded-xl p-2 dark:text-white text-lg mt-4 font-brand font-light")},m(n,d){w(n,e,d),w(n,c,d),w(n,a,d),j(a,r),w(n,p,d),w(n,g,d),u&&u.m(g,null),w(n,v,d),w(n,k,d),j(k,x),w(n,N,d),m&&m.m(n,d),w(n,h,d)},p(n,d){var C,B,W,Z,F,K,Q;d&1&&!H(e.src,s=(C=n[0].profile)==null?void 0:C.profile_icon)&&_(e,"src",s),d&1&&l!==(l=((B=n[0].profile)==null?void 0:B.username)+"'s profile picture")&&_(e,"alt",l),d&1&&t!==(t="md:h-24 md:w-24 lg:h-32 lg:w-32 rounded-full outline outline-2 "+((W=n[0].profile)==null?void 0:W.role)+"-outline outline-offset-4 mr-6 svelte-1ie1bbt")&&_(e,"class",t),d&1&&i!==(i=((Z=n[0].profile)==null?void 0:Z.username)+"")&&O(r,i),((F=n[0].profile)==null?void 0:F.role)!="default"?u?u.p(n,d):(u=X(n),u.c(),u.m(g,null)):u&&(u.d(1),u=null),d&1&&A!==(A=((K=n[0].profile)==null?void 0:K.bio.replaceAll("\\n",`
`))+"")&&O(x,A),n[1]&&n[2].id===((Q=n[0].profile)==null?void 0:Q.id)?m||(m=Y(),m.c(),m.m(h.parentNode,h)):m&&(m.d(1),m=null)},d(n){n&&f(e),n&&f(c),n&&f(a),n&&f(p),n&&f(g),u&&u.d(),n&&f(v),n&&f(k),n&&f(N),m&&m.d(n),n&&f(h)}}}function X(o){var a;let e,s,l=te((a=o[0].profile)==null?void 0:a.role)+"",t,c;return{c(){e=E("span"),s=D("⬤ "),t=D(l),this.h()},l(i){e=P(i,"SPAN",{class:!0});var r=y(e);s=I(r,"⬤ "),t=I(r,l),r.forEach(f),this.h()},h(){var i;_(e,"class",c=((i=o[0].profile)==null?void 0:i.role)+"-text svelte-1ie1bbt")},m(i,r){w(i,e,r),j(e,s),j(e,t)},p(i,r){var p,g;r&1&&l!==(l=te((p=i[0].profile)==null?void 0:p.role)+"")&&O(t,l),r&1&&c!==(c=((g=i[0].profile)==null?void 0:g.role)+"-text svelte-1ie1bbt")&&_(e,"class",c)},d(i){i&&f(e)}}}function Y(o){let e,s,l,t;return{c(){e=E("a"),s=E("img"),t=D(`\r
            Profile Settings`),this.h()},l(c){e=P(c,"A",{href:!0,class:!0});var a=y(e);s=P(a,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),t=I(a,`\r
            Profile Settings`),a.forEach(f),this.h()},h(){H(s.src,l="../icons/settings.svg")||_(s,"src",l),_(s,"alt","settings"),_(s,"width","24"),_(s,"height","24"),_(s,"class","float-left invert mr-2 max-w-sm stroke-red-400"),_(e,"href","edit"),_(e,"class","text-red-400 bg-red-400 bg-opacity-10 font-brand rounded-md px-2 md:px-3 py-2 md:py-2 text-md md:text-lg lg:text-xl hover:scale-105 transition-all border-2 border-red-400 active:brightness-75 mt-2")},m(c,a){w(c,e,a),j(e,s),j(e,t)},d(c){c&&f(e)}}}function je(o){let e,s;return{c(){e=E("p"),s=D("Loading")},l(l){e=P(l,"P",{});var t=y(e);s=I(t,"Loading"),t.forEach(f)},m(l,t){w(l,e,t),j(e,s)},p:b,d(l){l&&f(e)}}}function Ee(o){let e,s,l=o[0].projects??[],t=[];for(let a=0;a<l.length;a+=1)t[a]=ee(T(o,l,a));const c=a=>J(t[a],1,1,()=>{t[a]=null});return{c(){for(let a=0;a<t.length;a+=1)t[a].c();e=G()},l(a){for(let i=0;i<t.length;i+=1)t[i].l(a);e=G()},m(a,i){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(a,i);w(a,e,i),s=!0},p(a,i){if(i&1){l=a[0].projects??[];let r;for(r=0;r<l.length;r+=1){const p=T(a,l,r);t[r]?(t[r].p(p,i),q(t[r],1)):(t[r]=ee(p),t[r].c(),q(t[r],1),t[r].m(e.parentNode,e))}for(re(),r=l.length;r<t.length;r+=1)c(r);le()}},i(a){if(!s){for(let i=0;i<l.length;i+=1)q(t[i]);s=!0}},o(a){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)J(t[i]);s=!1},d(a){ce(t,a),a&&f(e)}}}function Pe(o){let e,s;return{c(){e=E("p"),s=D("No projects!"),this.h()},l(l){e=P(l,"P",{class:!0});var t=y(e);s=I(t,"No projects!"),t.forEach(f),this.h()},h(){_(e,"class","dark:text-white text-opacity-40 text-3xl text-center mt-48")},m(l,t){w(l,e,t),j(e,s)},p:b,i:b,o:b,d(l){l&&f(e)}}}function ee(o){let e,s;return e=new de({props:{project:o[5]}}),{c(){fe(e.$$.fragment)},l(l){ue(e.$$.fragment,l)},m(l,t){pe(e,l,t),s=!0},p(l,t){const c={};t&1&&(c.project=l[5]),e.$set(c)},i(l){s||(q(e.$$.fragment,l),s=!0)},o(l){J(e.$$.fragment,l),s=!1},d(l){me(e,l)}}}function ye(o){let e,s,l,t,c,a,i,r,p,g,v={ctx:o,current:null,token:null,hasCatch:!1,pending:ve,then:ge,catch:ke};R(o[3](),v);let k={ctx:o,current:null,token:null,hasCatch:!1,pending:je,then:xe,catch:we};R(o[3](),k);const A=[Pe,Ee],x=[];function N(h,u){var m;return((m=h[0].projects)==null?void 0:m.length)==0?0:1}return r=N(o),p=x[r]=A[r](o),{c(){e=G(),v.block.c(),s=S(),l=E("main"),t=E("div"),c=E("div"),k.block.c(),a=S(),i=E("div"),p.c(),this.h()},l(h){const u=ne("svelte-1ovvbrx",document.head);e=G(),v.block.l(u),u.forEach(f),s=L(h),l=P(h,"MAIN",{class:!0});var m=y(l);t=P(m,"DIV",{class:!0});var $=y(t);c=P($,"DIV",{class:!0});var M=y(c);k.block.l(M),M.forEach(f),a=L($),i=P($,"DIV",{class:!0});var V=y(i);p.l(V),V.forEach(f),$.forEach(f),m.forEach(f),this.h()},h(){_(c,"class","flex flex-col items-center md:items-start"),_(i,"class","w-full mx-24 h-full overflow-auto md:overflow-y-auto mt-16 md:mt-0 styled-scrollbar"),_(t,"class","flex flex-col items-center md:items-start md:flex-row w-full h-screen pt-16 md:pt-32"),_(l,"class","dark:bg-stone-900 bg-new-white transition-all px-4 lg:px-32 xl:px-64")},m(h,u){j(document.head,e),v.block.m(document.head,v.anchor=null),v.mount=()=>e.parentNode,v.anchor=e,w(h,s,u),w(h,l,u),j(l,t),j(t,c),k.block.m(c,k.anchor=null),k.mount=()=>c,k.anchor=null,j(t,a),j(t,i),x[r].m(i,null),g=!0},p(h,[u]){o=h,ie(k,o,u);let m=r;r=N(o),r===m?x[r].p(o,u):(re(),J(x[m],1,1,()=>{x[m]=null}),le(),p=x[r],p?p.p(o,u):(p=x[r]=A[r](o),p.c()),q(p,1),p.m(i,null))},i(h){g||(q(p),g=!0)},o(h){J(p),g=!1},d(h){f(e),v.block.d(),v.token=null,v=null,h&&f(s),h&&f(l),k.block.d(),k.token=null,k=null,x[r].d()}}}function te(o){return o==null?"null":o.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function Ae(o,e,s){let l,t,c;z(o,_e,r=>s(4,l=r)),z(o,he,r=>s(1,t=r)),z(o,be,r=>s(2,c=r));let a={profile:null,projects:null};async function i(){{const[r,p]=await Promise.all([fetch(`https://api.datapackhub.net/user/${l.params.slug}`),fetch(`https://api.datapackhub.net/user/${l.params.slug}/projects`)]);if(r.ok&&p.ok){const g=await r.json(),v=(await p.json()).result;s(0,a={profile:g,projects:v});return}}}return[a,t,c,i]}class Ie extends oe{constructor(e){super(),se(this,e,Ae,ye,ae,{})}}export{Ie as default};
