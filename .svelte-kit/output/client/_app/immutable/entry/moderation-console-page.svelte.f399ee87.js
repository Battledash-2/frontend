import{S as Y,i as J,s as Q,a as M,k as d,W as Z,h as c,c as D,l as m,m as v,n as u,b as T,C as S,L as q,o as x,X as $,e as F,w as ee,q as C,r as A,G as r,p as te,Y as z,H as N,V as G,K as se,P as K}from"../chunks/index.160dc208.js";import{u as le,a as ne,p as ae,b as oe}from"../chunks/globals.9e2f5059.js";import{g as ie}from"../chunks/navigation.1cb21006.js";const{document:O}=$;function X(a){let l;function e(n,i){return n[0]?re:ce}let s=e(a),t=s(a);return{c(){t.c(),l=F()},l(n){t.l(n),l=F()},m(n,i){t.m(n,i),T(n,l,i)},p(n,i){s===(s=e(n))&&t?t.p(n,i):(t.d(1),t=s(n),t&&(t.c(),t.m(l.parentNode,l)))},d(n){t.d(n),n&&c(l)}}}function re(a){let l,e,s;return{c(){l=d("div"),e=d("h1"),s=C("Console is not available on mobile at this moment."),this.h()},l(t){l=m(t,"DIV",{class:!0});var n=v(l);e=m(n,"H1",{});var i=v(e);s=A(i,"Console is not available on mobile at this moment."),i.forEach(c),n.forEach(c),this.h()},h(){u(l,"class","flex-col md:items-start w-full h-screen md:pt-20 pt-10 text-lime-400 font-console")},m(t,n){T(t,l,n),r(l,e),r(e,s)},p:S,d(t){t&&c(l)}}}function ce(a){let l,e,s,t,n,i,p,f,L,g,o,h,_,H,P,k,b,W,V;return{c(){l=d("div"),e=d("div"),s=d("span"),t=C("Datapack Hub Console"),n=d("br"),i=M(),p=d("span"),f=C("Welcome!"),L=M(),g=d("ul"),o=M(),h=d("div"),_=d("p"),H=C("/"),P=M(),k=d("form"),b=d("input"),this.h()},l(w){l=m(w,"DIV",{class:!0});var y=v(l);e=m(y,"DIV",{id:!0,class:!0,style:!0});var E=v(e);s=m(E,"SPAN",{class:!0});var B=v(s);t=A(B,"Datapack Hub Console"),B.forEach(c),n=m(E,"BR",{}),i=D(E),p=m(E,"SPAN",{class:!0});var U=v(p);f=A(U,"Welcome!"),U.forEach(c),L=D(E),g=m(E,"UL",{class:!0,id:!0}),v(g).forEach(c),E.forEach(c),o=D(y),h=m(y,"DIV",{class:!0});var I=v(h);_=m(I,"P",{class:!0});var R=v(_);H=A(R,"/"),R.forEach(c),P=D(I),k=m(I,"FORM",{action:!0,class:!0});var j=v(k);b=m(j,"INPUT",{id:!0,class:!0}),j.forEach(c),I.forEach(c),y.forEach(c),this.h()},h(){u(s,"class","font-bold text-lg"),u(p,"class","font-normal text-lg"),u(g,"class","list-none"),u(g,"id","cons"),u(e,"id","big"),u(e,"class","overflow-y-scroll"),te(e,"height","92%"),u(_,"class","float-left"),u(b,"id","inpt"),u(b,"class","w-full bg-black border-none"),u(k,"action","get"),u(k,"class","w-full outline-none border-0 ml-1 bg-black"),u(h,"class","bottom-0 right-0 absolute bg-black p-3 w-full flex justify-around"),u(l,"class","flex-col md:items-start w-full h-screen md:pt-20 pt-10 text-lime-400 font-console")},m(w,y){T(w,l,y),r(l,e),r(e,s),r(s,t),r(e,n),r(e,i),r(e,p),r(p,f),r(e,L),r(e,g),r(l,o),r(l,h),r(h,_),r(_,H),r(h,P),r(h,k),r(k,b),z(b,a[3]),a[7](b),W||(V=[N(b,"submit",G(function(){K(a[1])&&a[1].apply(this,arguments)})),N(b,"input",a[6]),N(k,"submit",G(function(){K(a[1])&&a[1].apply(this,arguments)}))],W=!0)},p(w,y){a=w,y&8&&b.value!==a[3]&&z(b,a[3])},d(w){w&&c(l),a[7](null),W=!1,se(V)}}}function ue(a){let l,e,s=a[4].role!="default"&&a[5]==!0&&X(a);return{c(){l=M(),e=d("main"),s&&s.c(),this.h()},l(t){Z("svelte-a63k1c",O.head).forEach(c),l=D(t),e=m(t,"MAIN",{class:!0});var i=v(e);s&&s.l(i),i.forEach(c),this.h()},h(){O.title="Datapack Hub Console",u(e,"class","dark:bg-stone-900 bg-new-white transition-all px-4")},m(t,n){T(t,l,n),T(t,e,n),s&&s.m(e,null)},p(t,[n]){t[4].role!="default"&&t[5]==!0?s?s.p(t,n):(s=X(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:S,o:S,d(t){t&&c(l),t&&c(e),s&&s.d()}}}function fe(a,l,e){let s,t;q(a,le,o=>e(4,s=o)),q(a,ne,o=>e(5,t=o));let n,i=()=>{},p,f="";x(()=>{console.log("User is "+s.username),s.role=="default"&&ie("/"),e(0,n=window.innerWidth<768),addEventListener("resize",()=>e(0,n=window.innerWidth<768)),e(1,i=async()=>{if(f!=""){const o=document.getElementById("cons");o.innerHTML=o.innerHTML+`<li>â«» ${f}</li>`,e(2,p.value="Loading...",p);try{let _=await ae(oe+"/moderation/console",{command:f}),H=await _.text();_.status==200?(o.innerHTML=o.innerHTML+`<pre class='resp'>${H}</pre>`,e(3,f="")):(o.innerHTML=o.innerHTML+`<li class='pb-4 text-red-500'>${H}</li>`,e(3,f=""))}catch(_){o.innerHTML=o.innerHTML+`<li class='resp err'>${_}</li>`,e(3,f="")}let h=document.getElementById("big");h.scrollTop=h.scrollHeight}})});function L(){f=this.value,e(3,f)}function g(o){ee[o?"unshift":"push"](()=>{p=o,e(2,p)})}return[n,i,p,f,s,t,L,g]}class he extends Y{constructor(l){super(),J(this,l,fe,ue,Q,{})}}export{he as default};
